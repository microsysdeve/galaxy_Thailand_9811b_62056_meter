#define LCDBOTTOMEXT
#include "Include.h"
/*=========================================================================================\n
* @function_name: LCD_On
* @function_file: LcdBottom.c
* @描述:
*
* @参数:
* @返回:
* @作者:   lwb (2012-03-15)
* @备注:
*-------------------------------------------------------------------------------------------
* @修改人:
* @修改内容:
===========================================================================================*/
void LCD_On(void)
{

}
/*=========================================================================================\n
* @function_name: LCD_Off
* @function_file: LcdBottom.c
* @描述:
*
* @参数:
* @返回:
* @作者:   lwb (2012-03-15)
* @备注:
*-------------------------------------------------------------------------------------------
* @修改人:
* @修改内容:
===========================================================================================*/
void LCD_Off(void)
{
    Disp_Clear();
    SegCtrl0 = 0x00;        // SEG0~SEG7
    SegCtrl1 = 0x00;        // SEG8~SEG15
    SegCtrl2 = 0x00;        // SEG16~SEG21
    DelayXms(5);
    LCDCtrl=0;
    LCDG=1;
    gs_DispStt.ucIndex=8;
}

/*=========================================================================================\n
* @function_name: Disp_Clear
* @function_file: Lcd.c
* @描述:
*
* @参数:
* @返回:
* @作者:   lwb (2012-02-27)
* @备注:
*-------------------------------------------------------------------------------------------
* @修改人:
* @修改内容:
===========================================================================================*/
void Disp_Clear(void)
{
    MemSet((uint8*)&LCDM0, 0x00,Const_LCDRAMLen);
//    MemSet(guc_LCDRAM, 0,Const_LCDRAMLen);
//    LCD_RAMUpdata();
}

/*=========================================================================================\n
* @function_name: Disp_Full
* @function_file: Lcd.c
* @描述: 全屏显示
*
* @参数:
* @返回:
* @作者:   lwb (2012-02-27)
* @备注:
*-------------------------------------------------------------------------------------------
* @修改人:
* @修改内容:
===========================================================================================*/
void Disp_Full(void)
{
    MemSet((uint8*)&LCDM0, 0xff,Const_LCDRAMLen);
//    LCD_RAMUpdata();
}
/*=========================================================================================\n
* @function_name: LCD_RAMUpdata
* @function_file: LcdBottom.c
* @描述:
*
* @参数:
* @返回:
* @作者:   lwb (2012-03-15)
* @备注:
*-------------------------------------------------------------------------------------------
* @修改人:
* @修改内容:
===========================================================================================*/
void LCD_RAMUpdata(void)
{
//    RefreshLCDRAM(guc_LCDRAM);
}

/*=========================================================================================\n
* @function_name: RefreshLCDRAM
* @function_file: DispPlay.c
* @描述: 把缓存显示数据刷新到LCD RAM中
*
*
* @参数：
* @param: p  缓存首地址，该缓存对应的是SEG2到SEG39，每个SEG对应1个字节
*
* @返回：
* @作者: lim (2011-11-02)
* @备注:
*-------------------------------------------------------------------------------------------
* @修改人:
* @修改内容:
===========================================================================================*/
void RefreshLCDRAM(uint8 *p)
{
    volatile uint8x  *pLCDM;
    pLCDM=(uint8x*)&LCDM0;

    for(uint8 i=0;i<15;i++)
    {
        *(pLCDM+i)=0;
        *(pLCDM+i)|=(*(p+2*i)&0x0f);    //低位
        *(pLCDM+i)|=*(p+2*i+1)<<4;      //高位
    }
}